<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions">
    <h:head>
        <title>FoodieLovers</title>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </h:head>
    <h:body>
        <ui:composition template="template.xhtml">
            <ui:define name="content">
                <div class="view">
                    <div class="pages">
                        <div class="container" style="margin-top: 90px">

                            <div class="col-md-4 col-xs-12">
                                <div class="col-md-12 column " style="margin-bottom: 30px">
                                    <ul class="nav nav-pills nav-stacked">
                                        <li><a href="home.xhtml"><span class="glyphicon glyphicon-chevron-right"></span> Home</a></li>
                                        <li><a href="publicacion_lista.xhtml"><span class="glyphicon glyphicon-chevron-right"></span>Publicacion</a></li>
                                        <li><a href="producto_lista.xhtml"><span class="glyphicon glyphicon-chevron-right"></span>Producto</a></li>
                                        <li class="active"><a href="#"><span class="glyphicon glyphicon-chevron-right"></span>Servicio Inicio</a></li>
                                        <li><a href="empresa_servicios_proceso.xhtml"><span class="glyphicon glyphicon-chevron-right"></span>Servicio Proceso</a></li>
                                        <li><a href="empresa_servicios_finalizado.xhtml"><span class="glyphicon glyphicon-chevron-right"></span>Servicio Finalizado</a></li>
                                    </ul>
                                </div>
                            </div>

                            <div class="col-md-8">
                                <div class="row">

                                    <h2 align="center">Servicios - Inicio</h2>

                                    <h:form id="form">
                                        <p:messages autoUpdate="true" showDetail="true"/>
                                        <div>
                                            <ol class="breadcrumb">
                                                <li class="breadcrumb-item active">Delivery</li>
                                            </ol>
                                            <p:commandButton class="btn btn-default right" value="Actualizar" actionListener="#{deliveryBean.listarEmpresa(usuarioBean.mostrarId(),1)}" update="data" />
                                            <h:dataTable class="table table-responsive" id="data" value="#{deliveryBean.listarEmpresa(usuarioBean.mostrarId(),1)}" var="delivery">

                                                <h:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Usuario"></h:outputText>
                                                    </f:facet>
                                                    <h:outputText value="#{usuarioBean.obtenerNombre(delivery.idusuario)}"></h:outputText>
                                                </h:column>

                                                <h:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Comida"></h:outputText>
                                                    </f:facet>
                                                    <h:outputText value="#{productoBean.obtenerNombre(delivery.idproducto)}"></h:outputText>
                                                </h:column>

                                                <h:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Importe Total"></h:outputText>
                                                    </f:facet>
                                                    <h:outputText value="#{delivery.importe_total}"></h:outputText>
                                                </h:column>

                                                <h:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Direccion"></h:outputText>
                                                    </f:facet>
                                                    <h:outputText value="#{delivery.direccion}"></h:outputText>
                                                </h:column>

                                                <h:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Cambiar"></h:outputText>
                                                    </f:facet>
                                                    <p:commandLink value="En Proceso" actionListener="#{deliveryBean.actualizaraProceso(delivery.iddelivery)}" update="form"/>
                                                </h:column>

                                            </h:dataTable>
                                        </div>
                                        <div>
                                            <ol class="breadcrumb">
                                                <li class="breadcrumb-item active">Reserva</li>
                                            </ol>
                                            <p:commandButton class="btn btn-default right" value="Actualizar" actionListener="#{reservaBean.listarEmpresa(usuarioBean.mostrarId(),1)}" update="data1" />
                                            <h:dataTable class="table table-responsive" id="data1" value="#{reservaBean.listarEmpresa(usuarioBean.mostrarId(),1)}" var="reserva">

                                                <h:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Usuario"></h:outputText>
                                                    </f:facet>
                                                    <h:outputText value="#{usuarioBean.obtenerNombre(reserva.idusuario)}"></h:outputText>
                                                </h:column>

                                                <h:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Comida"></h:outputText>
                                                    </f:facet>
                                                    <h:outputText value="#{productoBean.obtenerNombre(reserva.idproducto)}"></h:outputText>
                                                </h:column>

                                                <h:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Importe Total"></h:outputText>
                                                    </f:facet>
                                                    <h:outputText value="#{reserva.importe_total}"></h:outputText>
                                                </h:column>

                                                <h:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Hora Llegada"></h:outputText>
                                                    </f:facet>
                                                    <h:outputText value="#{reserva.hora_llegada}"></h:outputText>
                                                </h:column>

                                                <h:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Cambiar"></h:outputText>
                                                    </f:facet>
                                                    <p:commandLink value="En Proceso" actionListener="#{reservaBean.actualizaraProceso(reserva.idreserva)}" update="form"/>
                                                </h:column>

                                            </h:dataTable>
                                        </div>
                                    </h:form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ui:define>
        </ui:composition>
    </h:body>
</html>